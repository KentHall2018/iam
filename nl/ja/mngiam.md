---

copyright:

  years: 2017, 2018

lastupdated: "2018-10-30"

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:new_window: target="_blank"}
{:tip: .tip}

# リソースに対するアクセス権限の管理
{: #iammanidaccser}

IAM ポリシーを使用して、アクセス権限の管理またはユーザーの新規アクセス権限の割り当てを行うには、アカウント所有者であるか、アカウント内のすべてのサービスの管理者であるか、または、特定のサービスまたはサービス・インスタンスに割り当てられた管理者である必要があります。 アクセス・ポリシーおよび役割について詳しくは、[IAM アクセス権限](/docs/iam/users_roles.html)を参照してください。

## 既存のアクセス権限の編集

1. メニュー・バーで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックして、**「ユーザー」**を選択します。
2. アクセス権限を割り当てるユーザーの名前を選択します。
3. 編集するポリシーの行から**「アクション」**メニューを選択し、次に**「ポリシーの編集」**をクリックします。
4. ポリシーを編集します。
5. **「保存」**をクリックします。

ユーザーまたはグループのアクセス権限を編集するときに、重複するポリシーを許可しないというメッセージが表示されることがあります。 既存のポリシーを編集していて、加えた変更が既に割り当てられているアクセス権限と競合する場合は、現在編集中のポリシーを変更して異なるアクセス権限を提供したり、競合している既存のポリシーに移動して確認し、必要に応じて変更したりできます。 必要を満たす重複するポリシーが既に存在する場合は、編集中のポリシーを削除することもできます。
{: tip}

CLI を使用してユーザー・ポリシーを更新するには、[ibmcloud iam user-policy-update](/docs/cli/reference/ibmcloud/cli_api_policy.html#ibmcloud_iam_user_policy_update) コマンドを使用します。
```
ibmcloud iam user-policy-update USER_NAME POLICY_ID [-v, --version VERSION] {-f, --file JSON_FILE | [--roles ROLE_NAME1,ROLE_NAME2...] [--service-name SERVICE_NAME] [--service-instance SERVICE_INSTANCE] [--region REGION] [--resource-type RESOURCE_TYPE] [--resource RESOURCE] [--resource-group-name RESOURCE_GROUP_NAME] [--resource-group-id RESOURCE_GROUP_ID]}
```
{: codeblock}

### 新規アクセス権限の割り当て
{: #assignaccess}

以下の 3 つのタイプのポリシーのいずれかを使用して、アクセス権限を割り当てることができます。 

* リソース・グループ内のリソースへのアクセス権限 (1 つのみまたはすべてのオプションを含む)
* アカウント内のリソースへのアクセス権限 (1 つのタイプのみまたはすべてのタイプのオプションを含む)
* アカウント管理サービスへのアクセス権限 (1 つのみまたはすべてのサービスのオプションを含む)

ユーザーの招待と削除、請求情報と使用状況の表示、サービス ID の管理、アクセス・グループの管理、ユーザー・アクセス権限の管理、およびすべてのアカウント・リソースへのアクセスなどのアカウント管理タスクを実行するための完全な管理者権限をユーザーに付与する場合、管理者の役割を持つ**「すべての ID およびアクセス対応サービス (All Identity and Access enabled services)」**のポリシーと、管理者の役割を持つ**「すべてのアカウント管理サービス (All Account Management Services)」**のポリシーの 2 つのポリシーを作成する必要があります。
{: tip}

### リソース・グループ内のリソースへのアクセス権限 

リソース・グループ内のすべてのリソースへのアクセス権限、または、リソース・グループ内の 1 つのサービスのみへのアクセス権限を割り当てるには、以下の手順を実行します。

1. メニュー・バーで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックして、**「ユーザー」**を選択します。
2. アクセス権限を割り当てるユーザーの行から**「アクション」**メニューを選択し、**「アクセス権限の割り当て (Assign access)」**をクリックします。
3. **「リソース・グループ内のアクセス権限の割り当て」**を選択します。
4. リソース・グループを選択します。
5. ユーザーがダッシュボードでのリソース・グループの表示、リソース・グループ名の編集、またはグループへのユーザー・アクセスの管理を行えるようするため、**「リソース・グループへのアクセス権限の割り当て (Assign access to a resource group)」**フィールドで役割を選択します。 指定するリソースへのアクセス権限のみをユーザーに付与し、そのリソースが編成されているグループへのアクセス権限は付与しない場合は、**「アクセス権限なし」**を選択できます。
6. リソース・グループ内のいずれかのサービスを選択するか、または、選択したグループ内のすべてのサービスへのアクセス権限を提供することを選択します。
7. 必要なアクセス権限をユーザーに割り当てるため、役割の任意の組み合わせを選択します。 このアクセス権限は、ポリシーに選択したリソースにのみ適用されます。 リソース・グループである実際のコンテナーへのアクセス権限は付与されません。
8. **「割り当て」**をクリックします。

### リソースへのアクセス権限
{: #resourceaccess}

アカウント内の個別リソースへのアクセス権限を割り当てるか、または、アカウント内のすべてのリソースへのアクセス権限を割り当てるには、以下の手順を実行します。 

1. メニュー・バーで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックして、**「ユーザー」**を選択します。
2. アクセス権限を割り当てるユーザーの行から**「アクション」**メニューを選択し、**「アクセス権限の割り当て (Assign access)」**をクリックします。
3. **「リソースへのアクセス権限の割り当て (Assign access to resources)」**を選択します。
4. サービスを選択するか、または、**「すべての ID およびアクセス対応サービス」**を選択します。
5. プロンプトが出されたら、**「すべての現行地域」**、または特定の地域を選択します。 
6. **「すべての現行サービス・インスタンス」**を選択するか、特定のサービス・インスタンスを選択します。
7. 選択したサービスに応じて、以下のフィールドが表示される場合があります。 これらのフィールドの値を入力しないと、ポリシーの割り当ては、バケット・レベルではなく、サービス・インスタンス・レベルで行われます。 
    * **リソース・タイプ**: **「バケット」** を入力します。
    * **リソース ID**: バケットの名前を入力します。
8. 必要なアクセス権限をユーザーに割り当てるため、役割の任意の組み合わせを選択します。
9. **「割り当て」**をクリックします。

選択した詳細のポリシーが既に存在することを示すメッセージが表示されることがあります。 必要とする詳細と役割を持つポリシーが作成されている場合は、重複するポリシーが許可されていないため、新しいポリシーを変更するように求められます。 既存のポリシーと詳細は同じで役割の割り当てが異なるポリシーを作成する場合は、既存のポリシーを確認し、割り当てたい役割の割り当てが含まれるポリシーに更新するように求められます。
{: tip}

### アカウント管理サービスへのアクセス権限 

1 つまたはすべてのアカウント管理サービスへのアクセス権限を割り当てるには、以下のステップを実行します。 

1. メニュー・バーで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックして、**「ユーザー」**を選択します。
2. アクセス権限を割り当てるユーザーの行から**「アクション」**メニューを選択し、**「アクセス権限の割り当て (Assign access)」**をクリックします。
3. **「アカウント管理サービス」**へのアクセス権限を割り当てることを選択します。
4. **「すべてのアカウント管理サービス」**を選択するか、特定のアカウント管理サービスを選択します。
5. 必要なアクセス権限を割り当てるための役割の組み合わせを選択します。


## アクセス権限の削除

1. メニュー・バーで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックして、**「ユーザー」**を選択します。
2. アクセス権限を削除する対象のユーザー名を選択します。
3. 削除するポリシーの行から**「アクション」**メニューを選択し、次に**「削除」**をクリックします。
4. 削除しようとしているユーザー・ポリシーの詳細を確認し、**「削除」**をクリックして確認します。

CLI を使用してユーザー・ポリシーを削除するには、[ibmcloud iam user-policy-delete](/docs/cli/reference/ibmcloud/cli_api_policy.html#ibmcloud_iam_user_policy_delete) コマンドを使用します。
```
ibmcloud iam user-policy-delete USER_ID POLICY_ID [-f, --force]
```
{: codeblock}

## 割り当てられたアクセス権限の確認

追加先のアカウントで割り当てられたアクセス権限を確認する必要がある場合は、以下の手順を実行します。

1. メニュー・バーで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックして、**「ユーザー」**を選択します。
2. 自分の名前を選択します。
3. **「アクセス・ポリシー」**セクションで、自分に割り当てられた役割を確認します。

追加のアクセス権限が必要な場合は、アカウント所有者に連絡してアクセス権限を更新してもらうか、サービスまたはサービス・インスタンスの管理者に連絡して Cloud IAM アクセス・ポリシーを更新してもらう必要があります。
