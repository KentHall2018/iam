---

copyright:

  years: 2018, 2019
lastupdated: "2019-03-05"

keywords: MFA, multifactor authentication, IBMid MFA, two-factor authentication, account MFA, time-based one-time passcode, TOTP

subcollection: iam

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:new_window: target="_blank"}
{:tip: .tip}
{:note: .note}

# アカウントのユーザーに MFA が必要
{: #enablemfa}

{{site.data.keyword.Bluemix}} アカウント所有者または請求処理サービスの管理者は、アカウント内のすべてのユーザーに対して多要素認証 (MFA) が必要になるようにすることができます。 IBMid を持つすべてのユーザーは時間ベースのワンタイム・パスコード (TOTP) MFA 方式を使用します。異なるタイプの ID を持つすべてのユーザーに対しては、TOTP、セキュリティーのための質問、または外部認証方式を別個に使用できるようにする必要があります。  
{:shortdesc}

## 始める前に
{: #considerations}

アカウントに対して IBMid MFA を有効にする前に、以下の考慮事項を検討して、アカウント内のすべてのユーザーにどのような影響があるのかを確認してください。

* アカウントに対して MFA を有効にすると、ユーザーが次にログインするときに MFA プロセスを実行することが必要になります。
* ユーザーおよびサービス ID 用の API キーは、MFA が有効にされた後も引き続き機能します。
* Cloud Foundry へのネイティブ CF CLI ログインまたは UI ログインを使用する必要がある場合、アカウントに対して MFA が使用可能にされた後、API キーまたはシングル・サインオン (SSO) を使用する必要があります。
* アカウントに対する MFA は、ユーザーのログインに適用されますが、API 呼び出しには適用されません。 アカウント内のリソースへの API 呼び出しを行う許可を持つユーザーは、MFA を実行せずにこれを行うことができます。 ユーザーは、他のアカウントに属している場合、MFA を必要としないアカウントからの API キーを使用して、アカウント内のリソースへの API 呼び出しを行うことができます。
* フェデレーテッド・ユーザーである場合、MFA はサポートされません。
* アカウントに対して MFA を有効にする場合、アカウント内に IBMid を持たないユーザーがあると、{{site.data.keyword.Bluemix_notm}} コンソールで「ユーザーの詳細」ページからそのユーザーに対して他の MFA オプションのいずれかを有効にする必要があります。 詳しくは、『[多要素認証のタイプ](/docs/iam?topic=iam-types#types)』を参照してください。
* アカウント内のユーザーに対する通知方法およびサポート対策を計画してください。
  * MFA を有効にする予定の日時を、ビジネスへの影響が最も少なくなるように選択してください。
  * MFA を有効にした後、アカウントのユーザーに通知し、[セットアップ](/docs/iam?topic=iam-enablemfa#setupapp)方法を知らせてください。

多要素認証アカウント設定が有効にされている場合、アカウント内のすべての IBMid ユーザーにはログイン時に IBMid MFA 認証のためのプロンプトが出されます。 アカウント内の IBMid ユーザー用に他の MFA 方式がセットアップされている場合、それらの MFA 方式のためのプロンプトは出されなくなります。
{: tip}

## アカウント内のすべてのユーザーに対する MFA の有効化
{: #enabling}

MFA を有効にするには、アカウント所有者または請求処理アカウント管理サービスの管理者でなければなりません。 アカウントへの MFA の適用は新規ログインにのみ影響するため、MFA の有効化は既にログイン済みのユーザーには影響しません。 アカウント・ユーザーに MFA が有効になったことを通知し、次回ログイン時のユーザーへの影響を説明してください。

1. メニュー・バーから、**「管理」** &gt; **「アクセス (IAM)」**をクリックしてから、**「設定」**を選択します。
2. 「アカウント・ログイン」設定の **「更新」** を選択します。
3. 要求する認証のタイプに応じて、**「なし」** または **「非フェデレーテッド・ユーザーのみ」** を選択します。
4. 非フェデレーテッド・ユーザーのみのオプションを選択した場合は、アカウント内のユーザーに MFA を要求することによる影響を理解していることを確認するためのチェック・ボックスを選択します。
5. **「保存」**をクリックします。

## TOTP のセットアップ
{: #setupapp}

アカウントに対して MFA を有効にした後、次にログインするときに、オーセンティケーター・アプリを使用してワンタイム・パスコードをセットアップする必要があります。 アカウント内のすべてのユーザーも、次にログインするときに、ワンタイム・パスコードをセットアップする必要があります。

オーセンティケーター・アプリを使用して初めてワンタイム・パスコードをセットアップするには、以下のステップを実行します。

1. IBMid およびパスワードを使用してログインします。

  MFA で再ログインできるまでには、最大 5 分ほどかかります。
  {: note}

2. **「検証が必要」**画面で**「検証」**を選択して、オーセンティケーター・アプリを使用して MFA をセットアップします。
3. **「オーセンティケーター・アプリのセットアップ (Setup your authenticator app)」**を選択して、E メールに送信されたワンタイム・コードを取得し、オーセンティケーター・アプリのセットアップを続行します。
4. **「検証」**を選択します。
5. アプリでバーコードをスキャンするか、または、**「バーコードをスキャンできませんか? (Can't scan the bar code?)」**をクリックして、提供するキーを入力します。
6. コードを入力するため、**「続行」**をクリックします。
7. コードを入力し、**「検証」**を選択します。

既に認証をセットアップ済みであることを示すエラー・メッセージが出されるが、検証コードが機能していないか、入力する検証コードがない場合、[ヘルプ・デスク](https://www.ibm.com/ibmid/myibm/help/us/helpdesk.html){: new_window} ![外部リンク・アイコン](../icons/launch-glyph.svg "外部リンク・アイコン") に連絡して MFA 登録をリセットする必要があります。
{: note}
{: #mfahelp}

## アカウント内のすべてのユーザーに必要とされている MFA の無効化
{: #disablemfa}

MFA を無効にするには、アカウント所有者または請求処理アカウント管理サービスの管理者でなければなりません。 MFA の無効化は、既にログイン済みのユーザーには影響しません。 このアクションはすべての新規ログインに対して有効になります。

1. メニュー・バーから、**「管理」** &gt; **「アクセス (IAM)」**をクリックしてから、**「設定」**を選択します。
2. 「アカウント・ログイン」設定の **「編集」** を選択します。
3. **「なし」**を選択します。
4. **「保存」**をクリックします。

