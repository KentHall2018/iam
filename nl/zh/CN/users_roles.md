---

copyright:

  years: 2015, 2018

lastupdated: "2018-11-30"

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:tip: .tip}
{:note: .note}
{:new_window: target="_blank"}

# IAM 访问权
{: #userroles}

在帐户中组织成资源组的所有服务均使用 {{site.data.keyword.Bluemix_notm}} Identity and Access Management (IAM) 进行管理。将自动为帐户所有者分配 Cloud IAM 的帐户管理员角色。作为帐户管理员，您可以为用户分配和管理访问权，创建资源组，创建访问组，查看计费详细信息和跟踪使用情况，以及创建服务实例。可以通过创建策略用于设置策略主体要访问的目标以及设置角色（用于定义允许的访问权类型），从而为用户、服务标识和访问组提供访问权。
{: shortdesc}

## 什么是 Cloud IAM 策略？谁可以分配这些策略？
{: #iamusermanpol}

策略授予主体对于一组资源的一个或多个角色，以便可以在指定目标资源的上下文中执行特定操作。如果您具有合适的角色，那么可以分配和管理策略。下表显示了策略管理任务以及每个任务所需的角色。

|操作|所需角色|
|----------|---------|
|在帐户中为所有服务和实例创建策略|帐户所有者或所有帐户管理服务和所有启用“身份和访问权”的服务的管理员|
|创建关于帐户中某个服务的策略|帐户所有者、所有启用“身份和访问权”的服务的管理员，或帐户中服务的管理员|
|创建关于某个服务实例的策略|帐户所有者、所有启用“身份和访问权”的服务的管理员、帐户中服务的管理员、相关资源组中所有服务的管理员或服务实例的管理员 |
{: caption="表 1. 允许创建访问策略的用户" caption-side="top"}

分配策略时，从主体开始。在选择了策略主体之后，您可以选择是为资源组、单个资源或者是帐户管理服务设置策略。

然后，根据初始选择，可以选择下列选项：

  * 资源组中的服务
  * 资源组中的所有资源
  * 选定资源的所有实例或单个实例
  * 帐户中支持 IAM 的所有服务
  * 帐户管理服务

根据选择的服务，可能会提供更多配置选项。最后，选择要分配的角色。

## 公共访问策略类型
{: #policytypes}

您可以通过指定以下类型的访问策略来为用户、服务标识或访问组提供细颗粒度访问权：

* 所有帐户管理服务
* 特定帐户管理服务
* 帐户内的所有资源
* 属于单个资源组的所有服务内的所有资源，以及管理该资源组的能力
* 资源组中单个服务内的所有资源，以及管理该资源组的能力
* 整个帐户中单个服务内的所有资源，而不考虑将其分配到的资源组
* 单个实例中的资源
* 实例内的单个资源类型，例如 {{site.data.keyword.objectstorageshort}} 实例中的存储区

要为另一个用户授予对帐户的完全访问权，以便管理用户访问权和管理所有帐户资源，您必须分配两个策略。
通过选择**所有启用“身份和访问权”的服务**并分配**管理员**角色来设置其中一个策略，以授予用户对帐户中所有资源的访问权。此外，通过选择**所有帐户管理服务**并分配**管理员**角色来设置另一个策略，以授予用户对帐户中所有帐户管理服务的访问权。
{: tip}

## Cloud IAM 角色
{: #iamusermanrol}

通过 Cloud IAM，您可以为帐户中的用户和资源管理和定义访问权。可分配两种类型的角色：平台管理角色和服务访问角色。

<dl>
<dt>平台管理角色</dt>
<dd>平台管理角色涵盖一系列操作，包括创建和删除实例，管理别名、绑定和凭证，以及管理访问权的能力。平台角色有管理员、编辑者、操作员和查看者。平台管理角色还适用于帐户管理服务，这些服务使得用户能够邀请用户，管理服务标识，访问策略，目录条目以及跟踪计费和使用情况，具体取决于他们在帐户管理服务上的分配角色。</dd>
<dt>服务访问角色</dt>
<dd>服务访问角色定义用户或服务对服务实例执行操作的能力，例如访问控制台或执行 API 调用。服务访问角色有管理员、作者和读者。</dd>
</dl>

在 UI 中分配策略时，您可能发现并非所有角色都在此处作为选项列出，这是因为只显示可用于所选服务的角色。有关启用哪些角色以及每个访问角色允许对每个服务执行的操作的更多信息，请参阅该服务的相关文档。
{: note}

### 平台管理角色
{: #platformroles}

通过平台管理角色，可以为用户分配各种不同级别的许可权，以在帐户中和服务上执行平台操作。例如，为目录资源分配的平台管理角色使用户能够完成诸如创建、删除、编辑和查看服务实例之类的操作。此外，为帐户管理服务分配的平台管理角色使用户能够完成诸如邀请和除去用户、使用资源组以及查看计费信息之类的操作。有关帐户管理服务的更多信息，请参阅[表 3. 帐户管理服务的平台管理角色和操作示例](#platformrolestable2)。

以下各表提供了用户可以在目录资源、资源组以及帐户管理服务上下文中执行的一些平台管理操作示例。请参阅每个目录产品的文档，以了解这些角色如何在所使用的服务上下文中应用于用户。

| 访问策略详细信息 | 可以对帐户中服务执行的操作 | 可以对资源组中资源执行的操作 | 用于资源组访问权的操作 |
|:--------------|:------------|:-------------|:-------------|
| **将访问权分配给** |一个或所有启用了 IAM 的服务|资源组中所选的服务 |所选资源组 |
|查看者角色 |查看实例、别名、绑定和凭证|仅查看资源组中指定的实例|查看资源组|
|操作员角色 |查看实例并管理别名、绑定和凭证|不适用 |不适用 |
|编辑者角色 |创建、删除、编辑和查看实例。管理别名、绑定和凭证|仅对资源组中指定的实例执行创建、删除、编辑、暂挂、恢复、查看和绑定操作|查看和编辑资源组的名称|
|管理员角色 |服务的所有管理操作 |对资源组中指定实例的所有管理操作|查看、编辑和管理对资源组的访问权|
{: caption="表 2. 帐户中服务的平台管理角色和操作示例" caption-side="top"}
{: #platformrolestable1}

下表描述了您可以根据为每个帐户管理服务所分配的角色执行的常见操作。水平滚动以查看表中的所有条目。
{: #acctmgmt}

如果在**所有帐户管理服务**上分配访问策略，那么根据您选择的角色，用户可以为该角色的每个服务完成下列操作。此外，此类型的策略为用户提供对计费信息的访问权以及基于其分配的角色跟踪使用情况的能力。请参阅下表以获取详细信息。
{: note}

| 访问策略详细信息 | 用于服务标识的操作 | 用于管理访问组的操作 | 用于管理目录访问权的操作 | 用于管理用户的访问权的操作 |针对支持人员的操作|用于所有帐户管理服务的操作|
|:--------------|:-------------|:--------------|:--------------|:-----------|:--------------|:--------------|
| **将访问权分配给** |IAM 身份服务 |  IAM 访问组|全局资源目录|用户管理|支持中心|所有帐户管理服务|
|查看者角色 |  <ul><li>查看标识</li></ul> |  <ul><li>查看访问组和成员</li></ul> | <ul><li>查看私有服务</li></ul>  |  <ul><li>查看帐户中的用户</li><li>查看用户概要文件设置</li></ul> | <ul><li>查看用例</li><li>搜索用例</li></ul> |帐户管理服务的所有查看者角色操作以及以下操作：<ul><li>查看帐户功能设置</li><li>查看帐户中的订阅</li><li>查看帐户名称</li><li>查看资源组</li></ul> |
|操作员角色 | <ul><li>创建和删除标识及 API 密钥</li></ul> |  <ul><li>不适用 </li></ul> | <ul><li>不适用 </li></ul> |  <ul><li>查看帐户中的用户</li><li>查看用户概要文件设置</li></ul> | <ul><li>不适用 </li></ul> |帐户管理服务的所有操作员角色操作以及以下操作：<ul><li>查看帐户功能设置</li><li>查看帐户中的订阅</li><li>查看和更改帐户名称</li><li>查看和更新资源组</li></ul> |
|编辑者角色 |  <ul><li>创建、更新和删除标识及 API 密钥</li></ul> |  <ul><li>查看、创建、编辑和删除组</li><li>在组中添加或除去用户</li></ul> | <ul><li>可以更改对象元数据，但不能更改私有服务的可视性</li></ul>  | <ul><li>查看、邀请、除去和更新帐户中的用户</li><li>查看和更新用户概要文件设置</li></ul> | <ul><li>不适用 </li></ul> |帐户管理服务的所有编辑者角色操作以及以下操作：<ul><li>查看和更新帐户功能设置</li><li>查看帐户中的订阅</li><li>查看帐户中的商品</li><li>查看和应用特征代码</li><li>查看和更改帐户名称</li><li>查看和更新开支限制</li><li>查看、创建和更新资源组</li></ul> |
|管理员角色 |   <ul><li>创建、更新和删除标识及 API 密钥</li><li>将访问策略分配给标识</li></ul> |  <ul><li>查看、创建、编辑和删除组</li><li>添加或除去用户</li><li>将访问权分配给组</li><li>管理访问权以使用访问组</li></ul> | <ul><li>可以更改对象元数据或私有服务的可视性，并限制公共服务的可视性</li></ul> | <ul><li>查看、邀请、除去和更新帐户中的用户</li><li>查看和更新用户概要文件设置</li></ul> |  <ul><li>查看用例</li><li>搜索用例</li><li>更新用例</li><li>创建用例</li></ul> |帐户管理服务的所有管理员角色操作以及以下操作：<ul><li>查看和更新帐户功能设置</li><li>查看帐户中的订阅</li><li>查看帐户中的商品</li><li>查看和应用特征代码</li><li>查看和更改帐户名称</li><li>查看和更新开支限制</li><li>查看预订余额并跟踪使用情况</li><li>查看、创建、更新和分配用于管理资源组的访问权</li></ul>  |
{: caption="表 3. 帐户管理服务的平台管理角色和操作示例" caption-side="top"}
{: #platformrolestable2}

对于 IAM 身份服务，这些操作适用于用户未创建的帐户内的服务标识。所有用户都可以创建服务标识。他们是这些标识的管理员，可以创建关联的 API 密钥和访问策略，但是此帐户管理服务适用于查看、删除和分配其他用户在帐户中所创建服务标识的访问权的功能。
{: note}

一些服务可能将特定操作映射到与服务管理而非与服务访问相关的平台管理角色。例如，请查看下表，其中详细说明了映射到这些角色的 {{site.data.keyword.containershort_notm}} 服务操作。

|平台管理角色 |操作| {{site.data.keyword.containershort_notm}} 的示例操作 |
|:-----------------|:-----------------|:-----------------|
|查看者|可以查看服务实例，但是不能修改它们 | <ul><li>列出集群</li><li>查看集群的详细信息</li></ul>|
|编辑者|执行除管理帐户和分配访问策略之外的所有其他平台操作 |<ul><li>将服务绑定到集群</li><li>创建 Webhook</li></ul> |
|操作员|执行配置和操作服务实例所需的平台操作，如查看服务的仪表板| <ul><li>添加或除去工作程序节点</li><li>重新启动或重新装入工作程序节点</li><li>将服务绑定到集群</li></ul> |
|管理员|基于分配给此角色的资源执行所有平台操作，包括向其他用户分配访问策略|<ul><li>除去集群</li><li>创建集群</li><li>更新用户访问策略</li><li>查看者、编辑者和操作员可以执行的所有操作</li></ul>|
{: caption="表 4. {{site.data.keyword.containershort_notm}} 服务的平台管理角色和操作示例" caption-side="top"}

### 服务访问角色

服务访问角色可使用户分配有不同级别的许可权，以调用服务 API 和访问服务的 UI。下表提供根据所分配的角色，可使用 {{site.data.keyword.objectstorageshort}} 服务执行的操作示例。

根据您为策略所选择的服务不同，每个已分配角色可采取的操作也有所不同。不是所有服务都使用这些角色类型。请参阅服务文档，以获取更多详细信息。
{: note}

| 服务访问角色 |操作| {{site.data.keyword.objectstorageshort}} 服务的示例操作 |
|:-----------------|:-----------------|:-----------------|
|读者 |在服务内执行只读操作，如查看特定于服务的资源|列出和下载对象 |
|作者 |高于读者角色的许可权，包括创建和编辑特定于服务的资源|创建和销毁存储区和对象 |
|管理员|高于作者角色的许可权，可完成服务所定义的特权操作，还可以创建和编辑特定于服务的资源|管理数据存储的所有方面、创建和销毁存储区和对象 |
{: caption="表 5. 服务访问用户角色和操作示例" caption-side="top"}
